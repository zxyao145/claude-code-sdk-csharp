# Claude Code SDK for C#

A .NET SDK for interacting with Claude through the Claude Code CLI, providing both one-shot queries and interactive client sessions.

> [!NOTE]
> This file (README.md) is generated by claude code.

## Installation

Install via NuGet:

```bash
dotnet add package ClaudeCodeSdk
```

## Prerequisites

- .NET 8.0 SDK
- Claude Code CLI: `npm install -g @anthropic-ai/claude-code`

## Quick Start

### One-shot Query

```csharp
using ClaudeCodeSdk;

var messages = ClaudeQuery.QueryAsync("What is the capital of France?");
await foreach (var message in messages)
{
    Console.WriteLine(message.Content);
}
```

### Interactive Client

```csharp
using ClaudeCodeSdk;

using var client = new ClaudeSdkClient();
await client.ConnectAsync();

await client.SendMessageAsync("Hello Claude!");

await foreach (var message in client.ReceiveMessagesAsync())
{
    if (message is AssistantMessage assistantMsg)
    {
        Console.WriteLine($"Claude: {assistantMsg.Content}");
    }
}
```

## Architecture

The SDK implements a dual-pattern architecture:

- **One-shot Queries** - Fire-and-forget pattern for simple queries
- **Interactive Client** - Long-lived bidirectional communication with session management

### Message Types

- `AssistantMessage` - Claude's responses
- `UserMessage` - User input  
- `SystemMessage` - System notifications
- `ResultMessage` - Conversation end marker

### Content Blocks

- `TextBlock` - Plain text content
- `ToolUseBlock` - Tool invocations
- `ToolResultBlock` - Tool execution results
- `ThinkingBlock` - Claude's reasoning

## Development

### Building

```bash
dotnet build
```

### Testing

```bash
dotnet test
```

### Running Examples

```bash
dotnet run --project examples/
```

### Packaging

```bash
dotnet pack src/ClaudeCodeSdk/ClaudeCodeSdk.csproj -c Release
```

## Available Tools

See the [Claude Code documentation](https://docs.anthropic.com/en/docs/claude-code/settings#tools-available-to-claude) for a complete list of available tools.

## Examples

See the `examples/` folder for complete working examples including:
- Basic queries
- Interactive conversations  
- Tool usage
- Streaming mode

## License

MIT